# Generated by using Rcpp::compileAttributes() -> do not edit by hand
# Generator token: 10BE3573-1514-4C36-9D1C-5A225CD40393

#' Average vectors
#'
#' Efficient implementation of a function to average embeddings stored in a [matrix].
#'
#' @param keys [character] containing sentence made of words. Words are letters between separated by one or more spaces.
#' @param mat [matrix] where each row is a an embedding. Each row has a name and keys parameter are names of rows.
#' @param na_if_unknwown_word [TRUE] to fulfill a row with [NA] if one word of the document is unknown, and [FALSE] to only average known vectors
#' @return a [matrix] of embeddings where each row is related to each slot of the list. When an Id is not found, the full vector related to the sequence is [NA].
#' @examples
#' if (interactive()){
#' # This example should be run with a higher quality model
#' # than the one embedded in fastrtext
#' library(projector)
#' library(fastrtext)
#'
#' model_test_path <- system.file("extdata",
#'                                "model_unsupervised_test.bin",
#'                                package = "fastrtext")
#' model <- load_model(model_test_path)
#' word_embeddings <- get_word_vectors(model,
#'                                     words = head(get_dictionary(model), 2e5))
#'
#' average_vectors(strsplit(x = "this function average vector", split = " "), word_embeddings, TRUE)
#' }
#' @export
average_vectors <- function(keys, mat, na_if_unknwown_word) {
    .Call('_projector_average_vectors', PACKAGE = 'projector', keys, mat, na_if_unknwown_word)
}

